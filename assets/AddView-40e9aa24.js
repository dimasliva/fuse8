import{d as r,u as m,a as o,_ as c,o as v,c as p,b as n,w as a,v as s,e as w,t as h}from"./index-0bf6b1a0.js";const g=r({setup(){return{userStore:m()}},data(){return{events:[],event:{id:0,name:"",address:"",date:"",status:"",comment:""},added:!1}},methods:{async getEvents(){let t=window.location.protocol+"//"+window.location.hostname+":3001/";(await o.get(`${t}events`)).data},async addEvent(){if(this.event.name.length!==0&&this.event.address.length!==0){let t=window.location.protocol+"//"+window.location.hostname+":3001/";await o.get(`${t}events`).then(async e=>{console.log("events",e.data);const d=new Date().toLocaleString("default",{month:"long"});let l=`${new Date().getDay()} ${d} ${new Date().getFullYear()}`,i=window.location.protocol+"//"+window.location.hostname+":3001/";await o.post(`${i}events`,{id:Number(e.data[e.data.length-1].id)+1,name:this.event.name,address:this.event.address,date:l,status:"Новый",comment:this.event.comment}).then(()=>{this.added=!0})}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}else this.added=!1}}});const f={class:"container"},$={class:"form"},E=n("h2",null,"Добавить заказ",-1);function D(t,e,d,l,i,y){return v(),p("div",f,[n("div",$,[E,a(n("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>t.event.name=u),placeholder:"Введите ваше имя"},null,512),[[s,t.event.name]]),a(n("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>t.event.address=u),placeholder:"Введите ваш адрес"},null,512),[[s,t.event.address]]),a(n("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>t.event.comment=u),placeholder:"Комментарий"},null,512),[[s,t.event.comment]]),w(" "+h(t.added===!0?"Заказ добавлен":"")+" ",1),n("button",{onClick:e[3]||(e[3]=(...u)=>t.addEvent&&t.addEvent(...u))},"Добавить заказ")])])}const V=c(g,[["render",D]]);export{V as default};
