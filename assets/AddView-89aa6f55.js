import{d as l,u as i,a as s,_ as r,o as m,c as v,b as n,w as a,v as o,e as c,t as p}from"./index-bdd1477a.js";const h=l({setup(){return{userStore:i()}},data(){return{events:[],event:{id:0,name:"",address:"",date:"",status:"",comment:""},added:!1}},methods:{async getEvents(){(await s.get(`${window.location.href}/events`)).data},async addEvent(){this.event.name.length!==0&&this.event.address.length!==0?await s.get(`${window.location.href}/events`).then(async e=>{console.log("events",e.data);const t=new Date().toLocaleString("default",{month:"long"});let d=`${new Date().getDay()} ${t} ${new Date().getFullYear()}`;await s.post(`${window.location.href}/events`,{id:Number(e.data[e.data.length-1].id)+1,name:this.event.name,address:this.event.address,date:d,status:"Новый",comment:this.event.comment}).then(()=>{this.added=!0})}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}):this.added=!1}}});const f={class:"container"},w={class:"form"},g=n("h2",null,"Добавить заказ",-1);function $(e,t,d,E,D,y){return m(),v("div",f,[n("div",w,[g,a(n("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>e.event.name=u),placeholder:"Введите ваше имя"},null,512),[[o,e.event.name]]),a(n("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>e.event.address=u),placeholder:"Введите ваш адрес"},null,512),[[o,e.event.address]]),a(n("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.event.comment=u),placeholder:"Комментарий"},null,512),[[o,e.event.comment]]),c(" "+p(e.added===!0?"Заказ добавлен":"")+" ",1),n("button",{onClick:t[3]||(t[3]=(...u)=>e.addEvent&&e.addEvent(...u))},"Добавить заказ")])])}const V=r(h,[["render",$]]);export{V as default};
