import{d as l,u as r,a,_ as i,o as m,c,b as n,w as s,v as d,e as v,t as p}from"./index-c2aa7252.js";const h=l({setup(){return{userStore:r()}},data(){return{events:[],event:{id:0,name:"",address:"",date:"",status:"",comment:""},added:!1}},methods:{async getEvents(){(await a.get(`${window.location.href.replace(/add/,"")}/events`)).data},async addEvent(){this.event.name.length!==0&&this.event.address.length!==0?await a.get(`${window.location.href.replace(/add/,"")}/events`).then(async e=>{console.log("events",e.data);const t=new Date().toLocaleString("default",{month:"long"});let o=`${new Date().getDay()} ${t} ${new Date().getFullYear()}`;await a.post(`${window.location.href.replace(/add/,"")}/events`,{id:Number(e.data[e.data.length-1].id)+1,name:this.event.name,address:this.event.address,date:o,status:"Новый",comment:this.event.comment}).then(()=>{this.added=!0})}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}):this.added=!1}}});const f={class:"container"},w={class:"form"},g=n("h2",null,"Добавить заказ",-1);function $(e,t,o,E,D,y){return m(),c("div",f,[n("div",w,[g,s(n("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>e.event.name=u),placeholder:"Введите ваше имя"},null,512),[[d,e.event.name]]),s(n("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>e.event.address=u),placeholder:"Введите ваш адрес"},null,512),[[d,e.event.address]]),s(n("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.event.comment=u),placeholder:"Комментарий"},null,512),[[d,e.event.comment]]),v(" "+p(e.added===!0?"Заказ добавлен":"")+" ",1),n("button",{onClick:t[3]||(t[3]=(...u)=>e.addEvent&&e.addEvent(...u))},"Добавить заказ")])])}const V=i(h,[["render",$]]);export{V as default};
