import{d as r,u as l,a as s,_ as i,o as m,c as v,b as n,w as a,v as o,e as p,t as c}from"./index-6233c415.js";const h=r({setup(){return{userStore:l()}},data(){return{events:[],event:{id:0,name:"",address:"",date:"",status:"",comment:""},added:!1}},methods:{async getEvents(){(await s.get(`${this.userStore.url}events`)).data},async addEvent(){this.event.name.length!==0&&this.event.address.length!==0?await s.get(`${this.userStore.url}events`).then(async e=>{console.log("events",e.data);const t=new Date().toLocaleString("default",{month:"long"});let d=`${new Date().getDay()} ${t} ${new Date().getFullYear()}`;await s.post(`${this.userStore.url}events`,{id:Number(e.data[e.data.length-1].id)+1,name:this.event.name,address:this.event.address,date:d,status:"Новый",comment:this.event.comment}).then(()=>{this.added=!0})}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}):this.added=!1}}});const g={class:"container"},f={class:"form"},w=n("h2",null,"Добавить заказ",-1);function $(e,t,d,E,D,S){return m(),v("div",g,[n("div",f,[w,a(n("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>e.event.name=u),placeholder:"Введите ваше имя"},null,512),[[o,e.event.name]]),a(n("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>e.event.address=u),placeholder:"Введите ваш адрес"},null,512),[[o,e.event.address]]),a(n("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.event.comment=u),placeholder:"Комментарий"},null,512),[[o,e.event.comment]]),p(" "+c(e.added===!0?"Заказ добавлен":"")+" ",1),n("button",{onClick:t[3]||(t[3]=(...u)=>e.addEvent&&e.addEvent(...u))},"Добавить заказ")])])}const C=i(h,[["render",$]]);export{C as default};
